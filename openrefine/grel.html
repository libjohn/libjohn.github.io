<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Cleaning Data with OpenRefine</title>
  <meta name="description" content="This lab workbook contains hands-on material supplementing the OpenRefine workshops">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Cleaning Data with OpenRefine" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This lab workbook contains hands-on material supplementing the OpenRefine workshops" />
  <meta name="github-repo" content="libjohn/openrefine" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Cleaning Data with OpenRefine" />
  
  <meta name="twitter:description" content="This lab workbook contains hands-on material supplementing the OpenRefine workshops" />
  

<meta name="author" content="John Little">


<meta name="date" content="2018-04-27">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="start.html">
<link rel="next" href="hands-on-reshape.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html"><i class="fa fa-check"></i>Workshop Outline</a><ul>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#workshop-structure"><i class="fa fa-check"></i>Workshop Structure</a><ul>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#testimonial"><i class="fa fa-check"></i>Testimonial</a></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#workshop-philosophy"><i class="fa fa-check"></i>Workshop Philosophy</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#workshop-video"><i class="fa fa-check"></i>Workshop Video</a></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#for-best-results"><i class="fa fa-check"></i>For best results</a></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#overview"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#comparative-advantage"><i class="fa fa-check"></i>Comparative Advantage</a></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#characteristics"><i class="fa fa-check"></i>Characteristics</a><ul>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#general"><i class="fa fa-check"></i>General</a></li>
<li class="chapter" data-level="" data-path="workshop-outline.html"><a href="workshop-outline.html#video"><i class="fa fa-check"></i>Video</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html"><i class="fa fa-check"></i>Demonstration</a><ul>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#load-data"><i class="fa fa-check"></i>Load Data</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#navigating-the-project"><i class="fa fa-check"></i>Navigating the “Project”</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#facets"><i class="fa fa-check"></i>Facets</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#rows-vs.records"><i class="fa fa-check"></i>Rows vs. Records</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#web-scrape-api"><i class="fa fa-check"></i>Web Scrape &amp; API</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#parsing-data"><i class="fa fa-check"></i>Parsing Data</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#split"><i class="fa fa-check"></i>Split</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#concatenate"><i class="fa fa-check"></i>Concatenate</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#find-replace"><i class="fa fa-check"></i>Find &amp; Replace</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#facet-by-blank"><i class="fa fa-check"></i>Facet by Blank</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#text-filter"><i class="fa fa-check"></i>Text filter</a></li>
<li class="chapter" data-level="" data-path="demonstration.html"><a href="demonstration.html#custom-facet"><i class="fa fa-check"></i>Custom Facet</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="start.html"><a href="start.html"><i class="fa fa-check"></i><b>1</b> Hands-on: basic transformations</a><ul>
<li class="chapter" data-level="1.1" data-path="start.html"><a href="start.html#getting-started"><i class="fa fa-check"></i><b>1.1</b> Getting Started</a></li>
<li class="chapter" data-level="1.2" data-path="start.html"><a href="start.html#shutting-down-openrefine"><i class="fa fa-check"></i><b>1.2</b> Shutting Down OpenRefine</a></li>
<li class="chapter" data-level="1.3" data-path="start.html"><a href="start.html#facets-cluster"><i class="fa fa-check"></i><b>1.3</b> Facets &amp; Cluster</a><ul>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#facet-cluster"><i class="fa fa-check"></i>Facet &amp; Cluster</a></li>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#compound-facets"><i class="fa fa-check"></i>Compound Facets</a></li>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#mass-editing"><i class="fa fa-check"></i>Mass Editing</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="start.html"><a href="start.html#split-data-in-cells"><i class="fa fa-check"></i><b>1.4</b> Split data in cells</a></li>
<li class="chapter" data-level="1.5" data-path="start.html"><a href="start.html#concatenate-cells-together"><i class="fa fa-check"></i><b>1.5</b> Concatenate cells together</a></li>
<li class="chapter" data-level="1.6" data-path="start.html"><a href="start.html#search-replace-plus-more"><i class="fa fa-check"></i><b>1.6</b> Search &amp; Replace, Plus More</a><ul>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#convert-data-types"><i class="fa fa-check"></i>Convert Data Types</a></li>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#remove-whitespace"><i class="fa fa-check"></i>Remove Whitespace</a></li>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#search-replace"><i class="fa fa-check"></i>Search &amp; Replace</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="start.html"><a href="start.html#web-scraping"><i class="fa fa-check"></i><b>1.7</b> Web Scraping</a><ul>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#subset"><i class="fa fa-check"></i>Select a subset</a></li>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#api"><i class="fa fa-check"></i>API</a></li>
<li class="chapter" data-level="" data-path="start.html"><a href="start.html#parse"><i class="fa fa-check"></i>Parse</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="grel.html"><a href="grel.html"><i class="fa fa-check"></i><b>2</b> Hands-on: GREL</a><ul>
<li class="chapter" data-level="2.1" data-path="grel.html"><a href="grel.html#custom-facets"><i class="fa fa-check"></i><b>2.1</b> Custom Facets</a><ul>
<li class="chapter" data-level="" data-path="grel.html"><a href="grel.html#download-new-data-then-create-a-new-openrefine-project"><i class="fa fa-check"></i>Download new Data then Create a new OpenRefine Project:</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="grel.html"><a href="grel.html#grel-to-transform-and-normalize"><i class="fa fa-check"></i><b>2.2</b> GREL to Transform and Normalize</a></li>
<li class="chapter" data-level="" data-path="grel.html"><a href="grel.html#regular-expression"><i class="fa fa-check"></i>Regular Expression</a></li>
<li class="chapter" data-level="" data-path="grel.html"><a href="grel.html#filter-text"><i class="fa fa-check"></i>Filter Text</a></li>
<li class="chapter" data-level="" data-path="grel.html"><a href="grel.html#facet"><i class="fa fa-check"></i>Facet</a></li>
<li class="chapter" data-level="" data-path="grel.html"><a href="grel.html#cluster"><i class="fa fa-check"></i>Cluster</a></li>
<li class="chapter" data-level="" data-path="grel.html"><a href="grel.html#mass-editing-via-facets"><i class="fa fa-check"></i>Mass Editing via Facets</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="hands-on-reshape.html"><a href="hands-on-reshape.html"><i class="fa fa-check"></i><b>3</b> Hands-on: reshape</a><ul>
<li class="chapter" data-level="3.1" data-path="hands-on-reshape.html"><a href="hands-on-reshape.html#ingest-excel-data"><i class="fa fa-check"></i><b>3.1</b> Ingest Excel data</a></li>
<li class="chapter" data-level="3.2" data-path="hands-on-reshape.html"><a href="hands-on-reshape.html#facets-1"><i class="fa fa-check"></i><b>3.2</b> Facets</a></li>
<li class="chapter" data-level="3.3" data-path="hands-on-reshape.html"><a href="hands-on-reshape.html#text-filter-1"><i class="fa fa-check"></i><b>3.3</b> Text Filter</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="hands-on-dates.html"><a href="hands-on-dates.html"><i class="fa fa-check"></i><b>4</b> Hands-on: dates</a><ul>
<li class="chapter" data-level="4.1" data-path="hands-on-dates.html"><a href="hands-on-dates.html#dates"><i class="fa fa-check"></i><b>4.1</b> Dates</a></li>
<li class="chapter" data-level="4.2" data-path="hands-on-dates.html"><a href="hands-on-dates.html#logic"><i class="fa fa-check"></i><b>4.2</b> Logic</a></li>
<li class="chapter" data-level="4.3" data-path="hands-on-dates.html"><a href="hands-on-dates.html#reproducible"><i class="fa fa-check"></i><b>4.3</b> Reproducible</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="hands-on-reconciliation.html"><a href="hands-on-reconciliation.html"><i class="fa fa-check"></i><b>5</b> Hands-on: Reconciliation</a><ul>
<li class="chapter" data-level="5.1" data-path="hands-on-reconciliation.html"><a href="hands-on-reconciliation.html#reconciliation"><i class="fa fa-check"></i><b>5.1</b> Reconciliation</a></li>
<li class="chapter" data-level="5.2" data-path="hands-on-reconciliation.html"><a href="hands-on-reconciliation.html#reconciliation-resources"><i class="fa fa-check"></i><b>5.2</b> Reconciliation Resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="hands-on-web-scraping.html"><a href="hands-on-web-scraping.html"><i class="fa fa-check"></i><b>6</b> Hands-on: Web Scraping</a><ul>
<li class="chapter" data-level="6.1" data-path="hands-on-web-scraping.html"><a href="hands-on-web-scraping.html#api-1"><i class="fa fa-check"></i><b>6.1</b> API</a></li>
<li class="chapter" data-level="6.2" data-path="hands-on-web-scraping.html"><a href="hands-on-web-scraping.html#parse-1"><i class="fa fa-check"></i><b>6.2</b> Parse</a></li>
<li class="chapter" data-level="6.3" data-path="hands-on-web-scraping.html"><a href="hands-on-web-scraping.html#keys"><i class="fa fa-check"></i><b>6.3</b> Keys</a></li>
<li class="chapter" data-level="6.4" data-path="hands-on-web-scraping.html"><a href="hands-on-web-scraping.html#exercise-2"><i class="fa fa-check"></i><b>6.4</b> Exercise 2</a><ul>
<li class="chapter" data-level="" data-path="hands-on-web-scraping.html"><a href="hands-on-web-scraping.html#parse-2"><i class="fa fa-check"></i>Parse</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span><ul>
<li class="chapter" data-level="" data-path=""><a href="#additional-documentation"><i class="fa fa-check"></i>Additional Documentation</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Cleaning Data with OpenRefine</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="grel" class="section level1">
<h1><span class="header-section-number">2</span> Hands-on: GREL</h1>
<p>The goal of this project is to create custom facets and perform basic transformations, introduce you to <a href="https://github.com/OpenRefine/OpenRefine/wiki/General-Refine-Expression-Language">GREL</a> – the General Refine Expression Language – and develop practical skills in transforming and normalizing data. You’ve used GREL several times getting to this point in this workbook, but lets look a little deeper.</p>
<p>In this example you will open a new data set to practice importing a different type of data, this time comma separated value, or CSV. Last time you imported a tab separated value, or TSV. OpenRefine will important many types of data. Being aware of different data formats, and having the ability to open those data are valuable skills. In fact, one of the most frequent stumbling blocks when using new data tools is the simple problem of importing the data. Practice and learn…</p>
<div id="custom-facets" class="section level2">
<h2><span class="header-section-number">2.1</span> Custom Facets</h2>
<div id="download-new-data-then-create-a-new-openrefine-project" class="section level3 unnumbered">
<h3>Download new Data then Create a new OpenRefine Project:</h3>
<p>We’ll use a <strong>subset</strong><a href="#fn6" class="footnoteRef" id="fnref6"><sup>6</sup></a> of data from the Raleigh Open Data portal: “Raleigh Police Incident Data 2005plus2014.csv”.</p>
<ol style="list-style-type: decimal">
<li>Open Data
<ul>
<li><span class="or-menu">Create Project &gt; Web Addresses (URLs) &gt;</span> <code>https://github.com/libjohn/openrefine/raw/master/data/Raleigh%20Police%20Incident%20Data%202005plus2014.csv</code><br />
</li>
<li><span class="or-menu">Next &gt;&gt;</span><br />
</li>
<li>You many want to give your project a pretty title</li>
<li>Create Project &gt;&gt;<br />
</li>
</ul></li>
<li><strong>Isolate data</strong>: you have incident data without location information
<ul>
<li><span class="or-menu">Location &gt; Facet &gt; Customized facets &gt; Facet by blank</span></li>
<li>Click true (True = cell is blank ; False = cell has data)</li>
<li><ul class="no-bullet">
<div class="challenge">
<li>
How many matching rows have no location data?
</li>
<p>
10,576
</p>
</div>
</ul></li>
</ul></li>
</ol>
<blockquote>
<p>Explanation<br />
In the step above, you limited your data set to find all the police incident data where there is no location information. That is, when the cell is blank,there there is no location information.</p>
</blockquote>
<blockquote>
<p>Explanation for the next step: You’ll create a custom facet (by Year) without altering any data. To do this, you’ll use a very simple expression which takes a slice of data based on fixed position, starting in position 6 (counting begins at 0) and ending four character positions later at 10* (6 + 4=10). Given the data, find the year value within the “INC DATETIME” field.</p>
</blockquote>
<pre>
DATA:      12/31/2014 11:05:00 PM
Position:  0123  6    1        2
                      1        0
</pre>
<blockquote>
<p>For Example…<br />
- To take the year“2014”, use expression: <code>value[6,10]</code><a href="#fn7" class="footnoteRef" id="fnref7"><sup>7</sup></a><br />
- To take the hour, use <code>value[11,13]</code><br />
- To take PM (or AM), use <code>value[20,22]</code></p>
</blockquote>
<ol start="3" style="list-style-type: decimal">
<li>Create a Custom Facet to Sort by Year
<ul>
<li><span class="or-menu">INC DATETIME &gt; Facet &gt; Custom text facet … </span><br />
</li>
<li>Expression = <code>value[6,10]</code> <span class="or-menu"> &gt; OK </span></li>
</ul></li>
</ol>
<ol start="4">
<li>
Sort the facet by Count
</li>
<ul>
<div class="challenge">
<li>
Which year has the most missing data?
</li>
<p>
2005
</p>
</div>
<div class="challenge">
<li>
How many rows match that year?
</li>
<p>
10,007 rows with missing location data
</p>
</div>
<li>
Click “<strong>Remove All</strong>” in the Facet/Filter sidebar
</li>
</ul>
</ol>
<ol start="5" style="list-style-type: decimal">
<li>Keep only the data with location values, i.e. delete all rows that have<br />
no location data…
<ul>
<li><span class="or-menu">Location &gt; Facet &gt; Customized facets &gt; Facet by blank </span><br />
</li>
<li>Limit to “<strong>true</strong>”<br />
</li>
<li><span class="or-menu">All &gt; Edit rows &gt; Remove all matching rows </span><br />
</li>
<li>Close (“X out”) the facets</li>
</ul></li>
</ol>
</div>
</div>
<div id="grel-to-transform-and-normalize" class="section level2">
<h2><span class="header-section-number">2.2</span> GREL to Transform and Normalize</h2>
<p>The <a href="https://github.com/OpenRefine/OpenRefine/wiki/General-Refine-Expression-Language">General Refine Expression Language</a> (GREL) is a powerful and extensible language to manipulate data. In these next steps we will learn GREL by using practical steps to improve the structure of the data.</p>
<ol start="6" style="list-style-type: decimal">
<li><strong>Split</strong> the LOCATION Column into two columns (Latitude and Longitude)
<ul>
<li><span class="or-menu">LOCATION &gt; Edit column &gt; Split into several columns… &gt; OK </span> (i.e. Accept the defaults)<br />
</li>
<li>Rename Columns
<ul>
<li><span class="or-menu">Location 1 &gt; Edit column &gt; Rename this column &gt; <code>Latitude</code> </span><br />
</li>
<li><span class="or-menu">Location 2 &gt; Edit column &gt; Rename this column &gt; <code>Longitude</code> </span><br />
</li>
</ul></li>
<li>Remove parenthesis and trim whitespace
<ul>
<li><span class="or-menu">Latitude &gt; Edit cells &gt; Transform … </span>
<ol style="list-style-type: decimal">
<li>Expression = <code>value.replace(&quot;(&quot;,&quot;&quot;)</code> <span class="or-menu">&gt; OK </span><br />
</li>
<li><span class="or-menu">Latitude &gt; Edit cells &gt; Common transformations &gt; Trim leading and trailing whitespace </span><br />
</li>
</ol></li>
<li><span class="or-menu">Longitude &gt; Edit cells &gt; Transform … </span>
<ol style="list-style-type: decimal">
<li>Expression = <code>value.replace(&quot;)&quot;,&quot;&quot;)</code> <span class="or-menu">&gt; OK </span><br />
</li>
<li><span class="or-menu">Longitude &gt; Edit cells &gt; Common transformations &gt; Trim leading and trailing whitespace </span></li>
</ol></li>
</ul></li>
</ul></li>
</ol>
</div>
<div id="regular-expression" class="section level2 unnumbered">
<h2>Regular Expression</h2>
<p>Regular Expressions are very powerful and flexible codes used for matching patterns. Often there is more than one way to compose a regex pattern-match. Importantly for OpenRefine, much of Refine’s extensible and advanced power comes from regular expressions. Essentially the key to advanced level OpenRefine is regular expressions and looping. To learn more about regular expressions see my <a href="https://www.johnlittle.info/project/custom/regex/regex.html">handout on regex</a>. For now you can refer to these <strong>few commands</strong> and symbols summed up on this <a href="http://libjohn.github.io/regex/cheat-sheet.html">quick-sheet</a>.</p>
<ol start="7" style="list-style-type: decimal">
<li>Create New Column from Existing Column using a regular expression to match a pattern
<ul>
<li><span class="or-menu">INC DATETIME &gt; Edit column &gt; Add column based on this column … </span>
<ol style="list-style-type: decimal">
<li>New column name = <code>YEAR</code><br />
</li>
<li>Expression = <code>value.match(/.*\/(\d\d\d\d).*/)[0]</code> &gt; <span class="or-menu">OK</span><a href="#fn8" class="footnoteRef" id="fnref8"><sup>8</sup></a></li>
</ol></li>
</ul></li>
</ol>
</div>
<div id="filter-text" class="section level2 unnumbered">
<h2>Filter Text</h2>
<ol start="8" style="list-style-type: decimal">
<li>Create a Text Filter: Explore your data to find how many incident descriptions involve bicycles<br />

<ol type="1">
<li>
<span class="or-menu">LCR DESC &gt;Text filter </span>
</li>
<li>
In the filter box, enter the term <code>bicycle</code>
</li>
<div class="challenge">
<li>
How many matching rows of data use the word “bicycle” in the description?
</li>
<p>
251
</p></li>
</ol>
</div>
</ol>
</div>
<div id="facet" class="section level2 unnumbered">
<h2>Facet</h2>
<ol start="9">
<li>
Make a Text Facet on the LCR DESC column
</li>
<ol>
<li>
<span class="or-menu">LCR DESC &gt; Facet &gt; Text facet</span>
</li>
<div class="challenge">
<li>
How many Bicycle categories exist in the facet window?
</li>
<p>
6
</p>
</div>
<div class="challenge">
<li>
Which facet is most often used “LCR DESC” facet?
</li>
<p>
LARCENY/BICYCLES ($50-$199) - 119
</p>
</div>
</ol>
</ol>
</div>
<div id="cluster" class="section level2 unnumbered">
<h2>Cluster</h2>
<ol start="10" style="list-style-type: decimal">
<li>Look for Cluster variations in the FELONY Column
<ul>
<li><a href="https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth">Clustering</a> refers to the operation of finding groups of different values that might be alternative representations of the same thing. For example “Gödel” and “Godel”. This is a handy way to find spelling variations.<br />
</li>
<li><span class="or-menu">FELONY &gt; Facet &gt; Text facet </span><br />
</li>
<li><span class="or-menu">FELONY &gt; Edit cells &gt; Cluster and edit … </span>
<ul>
<li>Method = “key collision” ; Key Function = “metaphone3”<br />
</li>
</ul></li>
<li>For each row, check “Merge?” and change the “New Cell Value”
<ol style="list-style-type: lower-roman">
<li>to <code>Felony</code> in the first row<br />
</li>
<li>to <code>Not Felony</code> in the second row<br />
</li>
<li>click the “Merge Selected &amp; Re-Cluster” button<br />
</li>
<li>Try other “Methods” and “Keying Functions”. “Merge Selected &amp; Re-Cluster” after each operation<br />
</li>
<li>Close</li>
<li><ul class="no-bullet">
<div class="challenge">
<li>
How many “Not Felony” bicycle larcenies were recorded?
</li>
<p>
There are 234 “Not Felony” items after clustering using both “key collision” and “nearest neighbor” methods of clustering
</p>
</div>
</ul></li>
</ol></li>
</ul></li>
</ol>
</div>
<div id="mass-editing-via-facets" class="section level2 unnumbered">
<h2>Mass Editing via Facets</h2>
<ol start="11" style="list-style-type: decimal">
<li>Mass Edit cells in LCR DESC Facet: <span class="or-menu">LCR DESC &gt; Facet &gt; Text facet</span>
<ul>
<li>Mouseover &amp; Edit “LARCENY/BICYCLE/FELONY/$200- …”<br />
</li>
<li>delete “/FELONY”</li>
<li>Add an “S” to ‘BICYCLE’ &gt; Apply</li>
</ul></li>
<li><ul class="no-bullet">
<div class="challenge">
<li>
How many rows match the “LARCENY/BICYCLES ($200-$1000)” Category
</li>
<p>
There are 115 observatins (or rows) matching “LARCENY/BICYCLES ($200-$1,000)” category
</p>
</div>
</ul></li>
<li>Export as an Excel File
<ul>
<li><span class="or-menu">Export &gt; Excel </span></li>
</ul></li>
</ol>
<!-- special thanks to the folks at software carpentry.  I riffed from their
workshop template to create the Q&A javacript/style.  See https://github.com/swcarpentry/workshop-template -->
<script src="assets/js/qa.js"></script>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="6">
<li id="fn6"><p>Original Data Source: <a href="https://data.raleighnc.gov/">Raleigh Open Data</a><a href="grel.html#fnref6">↩</a></p></li>
<li id="fn7"><p>You may notice what seems to be either a math or logic error in how this second value is “counted.” The simple explanation is the first number counts from zero. Add to that number the string length counting from 1 to get the second value.<a href="grel.html#fnref7">↩</a></p></li>
<li id="fn8"><p>Here’s another GREL example that captures the same data: <code>value.match(/(\d\d)\/\d{2}\/(\d{4})\s.*\s([A|P][M])/)[1]</code><a href="grel.html#fnref8">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="start.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="hands-on-reshape.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
