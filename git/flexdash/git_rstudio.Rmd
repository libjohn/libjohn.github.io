---
title: "Reproducibility: Git & RStudio"
output: 
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: scroll
    navbar:
       - { icon: fa-github, href: "https://github.com/libjohn/git-tutorial" }
---

Outline
================================

### What is...

1. Git
1. GitHub and GitLab and Bitbucket

    - Duke's GitLab  
    
1. Markdown  
1. Orchestrating with RStudio

	- Masks the CLI
	- Easier to get started
	- PowerUsers can still use commands



### **Prerequisites**:  Load & Install Software

#### Load & Install Software **Before the Workshop**

To complete the hands-on portion of the workshop you'll need software pre-installed.  Due to the nature of the workshop we will not have time to troubleshoot installations during the workshop.  Please be sure to perform the following steps **on the laptop you will bring to the workshop**.

#### Required Software

**Download and install**.  I recommend accepting the install defaults for the following:

- **Git**: https://git-scm.com/downloads

    1. Download and install Git <br> ![](../images/git_os.png "Click on the link to your OS") 
    1. Run the install and accept all the defaults
    
- **R**: http://archive.linux.duke.edu/cran/

    - If you have not installed R before choose *install R for the first time*
    - If you already have R installed on your workstation I recommend running the latest version, but any reasonably current version should be fine.
    
- **RStudio**: https://www.rstudio.com/products/rstudio/download/#download <br>  ![](../images/rstudio_download.png "Click *Download Rstudio Desktop*")
    
- If you haven't yet, install each of those programs


### Verify your Access to **Duke's** GitLab

During the Workshop we will use [Duke's Gitlab](https://gitlab.oit.duke.edu) implementation.  To complete the hands-on portion of the workshop, you **must log-in** -- **in advance** of the workshop -- and ensure you have NetID access to https://gitlab.oit.duke.edu.  If you do not have access to **Duke's** GitLab, [contact OIT](https://oit.duke.edu/help).

- Be certain you login via "Duke Shibboleth Login" using your NetID <br> ![](../images/gitlab_shib_login.png)  

### Genearte SSH keys in Advance of the Workshop

I recommend generating your SSH keys in advance of the workshop.  To do so, you should have already installed Git to your laptop.  Then follow these instructions for generating the keys.  We will cover key configuration in the workshop although you will find the explanation easier to if you generate your keys in advance.

1. To begin, open a shell **from RStudio**

    - In RStudio > Menubar > `Tools > Shell...` <br> ![](../images/shell.png)
    
1. Follow the instructions https://gitlab.oit.duke.edu/help/ssh/README
1. Close the Shell


Hands-on
================================

### Generate SSH Keys 

This must be done on each workstation you use to *push*.  

- https://gitlab.oit.duke.edu/help/ssh/README

This step was covered in the [outline] > Prerequisites section.

### Make a Repository
1. Duke's GitLab -- https://gitlab.oit.duke.edu
1. Duke Shibboleth Login
1. New Project
1. Add a project name:  `test-one` > Create Project

    - Notice command line instructions.  Could come in handy  
1. Make a README file (click the README link)  > `Commit changes`
1. Make a license file (click the LICENSE link) 

	- click *Appply a license format* > choose *The Unlicense* (or paste in a Creative Commons License) > `Commit changes`  
1. Make a .gitignore file (click the .gitignore link)

    - click *Apply a .gitignore format* > choose *R* > `Commit changes`  
1. Bring the repo down locally via RStudio

	1. Back at your GitLab repo `https://gitlab.oit.duke.edu/<<your-NetID>>/test-one`, copyURL to clipboard (click icon)
	1. Launch RStudio, Menubar:  *File > New Project* > Version Control > Git > paste the URL from the step above into *Repository URL:*

### Edit, Commit, and Push your Repo in RStudio

1. In the Files Pane, Open the README.md file
1. In the Editor Pane, modify your README with [Markdown](https://en.wikipedia.org/wiki/Markdown#Example)

    - Make a Subheading with the word "Purpose":  `##Purpose`
    - A blank line, then "This is my first Git repository.  I'm going to push this file via RStudio"
1. Save the changes to this file
1. In the Git pane:

    1. Check each of the staged files
    1. Click *commit* and provide a message:  `this is my first edit of a README and supporting files`
    1. Click the *commit* button to engage your commit  process with the message, then close
    1. Click the *Push* arrow, then close, then close the commit dialogue box  
1. View your changes back at gitLab:  `https://gitlab.oit.duke.edu/<<your-NetID>>/test-one`

### Pull

The next time you open your project in RStudio the first step you should take is to *Pull* from the gitLab repo.  Then make your changes, then commit and push.  If you forget to *Pull* you make have to resolve some conflicts so get into the habit of pulling before you make edits.

### Public or Private Repositories

- `https://gitlab.oit.duke.edu/<<your-NetID>>/test-one` > Settings > Scroll to *Project Visibility* > right-hand drop-down list:  Private | Public
- Add a Description (Optional)
- Add Tags (Optional)  

&nbsp;

### Public Hubs v Duke's Hub

- Public Hubs:  GitHub, GitLab, Bitbucket

    - public by default
    - can pay for privacy
    - large user communities

- Duke's GitLab can make 

    - Works with your NetID
    - Same Functionality as above
    - Price is right
    - Can make any repo public, private by default 

Resources
================================


## Column 1

### Very Basic markdown

```
# Heading

## Sub-heading

### Another deeper heading
 
Paragraphs are separated by a blank line.

Text attributes _italic_, *italic*, __bold__, **bold**, `monospace`.

A [link](http://example.com).

Bullet list:

* apples  
* oranges  
* pears  

Numbered list:

1. apples
2. oranges
3. pears



```
  
## Column 2

### Read More

- [RMarkdown Cheatsheet](https://www.rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf)
